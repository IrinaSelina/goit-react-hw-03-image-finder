(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),s=a(9),i=a(19),u=a(4),l=a(5),m=a(7),d=a(6),h=a(20),g=a.n(h),j=a(1),b=function(){return Object(j.jsx)(g.a,{type:"Puff",color:"#00BFFF",height:20,width:20,timeout:5e3})},f=a(21),p=a.n(f),O=function(e,t){var a=new URLSearchParams({image_type:"photo",orientation:"horizontal",q:e,page:t,per_page:12,key:"21254029-2b209fd62c1580633fde42429"});return p.a.get("".concat("https://pixabay.com/api/","?").concat(a))},y=O,S=(a(65),function(e){var t=e.webformatURL,a=e.tags,n=e.largeImageURL,r=e.onOpenModal;return Object(j.jsx)("li",{className:"ImageGalleryItem",onClick:r,children:Object(j.jsx)("img",{src:t,alt:a,className:"ImageGalleryItem-image","data-source":n})})}),v=(a(66),function(e){var t=e.images,a=e.onOpenModal;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.tags,o=e.largeImageURL;return Object(j.jsx)(S,{webformatURL:n,tags:r,onOpenModal:a,largeImageURL:o},t)}))})}),x=(a(67),function(e){var t=e.onSetQuery,a=e.searchQuery,n=e.onSubmit;return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:n,children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{name:"searchQuery",value:a,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onInput:t})]})})}),M=(a(68),function(e){var t=e.onLoadMore,a=e.children;return Object(j.jsxs)("button",{type:"button",onClick:t,children:["Load more ",a]})}),w=(a(69),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){"Escape"===t.key&&e.props.onCloseModal(t)}))}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"Overlay",onClick:this.props.onCloseModal,children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:this.props.modalImg,alt:"",width:"600px"})})})}}]),a}(n.Component)),L=(a(70),a(71),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],currentPage:1,searchQuery:"",isLoader:!1,error:null,showModal:!1,modalImg:""},e.onSetQuery=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n=a.searchQuery;a.currentPage;e.setState({isLoader:!0}),y(n,1).then((function(t){return e.setState({images:t.data.hits})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoader:!1})}))},e.onLoadMore=function(){var t=e.state,a=t.searchQuery,n=t.currentPage;e.setState({isLoader:!0}),y(a,n+1).then((function(t){return e.setState((function(e){return{images:[].concat(Object(s.a)(e.images),Object(s.a)(t.data.hits)),currentPage:e.currentPage+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){e.setState({isLoader:!1}),window.scrollTo({top:document.querySelector(".ImageGallery").scrollHeight,behavior:"smooth"})}))},e.onOpenModal=function(t){e.setState({modalImg:t.target.dataset.source,showModal:!0})},e.onCloseModal=function(t){"IMG"!==t.target.nodeName&&e.setState({modalImg:"",showModal:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=(e.images,e.searchQuery);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x,{onSubmit:this.onSubmit,onSetQuery:this.onSetQuery,searchQuery:t}),Object(j.jsx)(v,{images:this.state.images,onOpenModal:this.onOpenModal}),this.state.isLoader&&Object(j.jsx)(b,{}),0!==this.state.images.length&&Object(j.jsx)(M,{onLoadMore:this.onLoadMore}),this.state.showModal&&Object(j.jsx)(w,{modalImg:this.state.modalImg,onCloseModal:this.onCloseModal})]})}}]),a}(n.PureComponent));c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.5c4702bc.chunk.js.map