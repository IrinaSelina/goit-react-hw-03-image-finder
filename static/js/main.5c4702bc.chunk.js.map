{"version":3,"sources":["Components/Loader/Loader.js","api/imageApi.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Searchbar/Searchbar.js","Components/Button/Button.js","Components/Modal/Modal.js","App.js","index.js"],"names":["LoaderOn","type","color","height","width","timeout","fetchArticlesWithQuery","searchParam","page","searchParams","URLSearchParams","image_type","orientation","q","per_page","key","axios","get","ImageGalleryItem","webformatURL","tags","largeImageURL","onOpenModal","className","onClick","src","alt","data-source","ImageGallery","images","map","id","Searchbar","onSetQuery","searchQuery","onSubmit","name","value","autoComplete","autoFocus","placeholder","onInput","Button","onLoadMore","children","Modal","window","addEventListener","e","props","onCloseModal","this","modalImg","Component","App","state","currentPage","isLoader","error","showModal","setState","target","preventDefault","imageApi","then","response","data","hits","catch","finally","prevState","scrollTo","top","document","querySelector","scrollHeight","behavior","dataset","source","nodeName","Loader","length","PureComponent","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5c4702bc.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nconst LoaderOn = () => (\r\n  <Loader type=\"Puff\" color=\"#00BFFF\" height={20} width={20} timeout={5000} />\r\n);\r\n\r\nexport default LoaderOn;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst URL = \"https://pixabay.com/api/\";\r\nconst KEY = \"21254029-2b209fd62c1580633fde42429\";\r\n\r\n// console.log(`${URL}?${searchParams}`);\r\nconst fetchArticlesWithQuery = (searchParam, page) => {\r\n  const searchParams = new URLSearchParams({\r\n    image_type: \"photo\",\r\n    orientation: \"horizontal\",\r\n    q: searchParam,\r\n    page: page,\r\n    per_page: 12,\r\n    key: KEY,\r\n  });\r\n\r\n  return axios.get(`${URL}?${searchParams}`);\r\n};\r\nconst imageApi = {\r\n  fetchArticlesWithQuery,\r\n};\r\nexport default { fetchArticlesWithQuery };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./ImageGalleryItem.css\";\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  tags,\r\n  largeImageURL,\r\n  onOpenModal,\r\n}) => (\r\n  <li className=\"ImageGalleryItem\" onClick={onOpenModal}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={tags}\r\n      className=\"ImageGalleryItem-image\"\r\n      data-source={largeImageURL}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./ImageGallery.css\";\r\n\r\nconst ImageGallery = ({ images, onOpenModal }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        webformatURL={webformatURL}\r\n        tags={tags}\r\n        key={id}\r\n        onOpenModal={onOpenModal}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Searchbar.css\";\r\n\r\nconst Searchbar = ({ onSetQuery, searchQuery, onSubmit }) => {\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          name=\"searchQuery\"\r\n          value={searchQuery}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onInput={onSetQuery}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\nSearchbar.propTypes = {\r\n  onSetQuery: PropTypes.func.isRequired,\r\n  searchQuery: PropTypes.string.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Button.css\";\r\nconst Button = ({ onLoadMore, children }) => (\r\n  <button type=\"button\" onClick={onLoadMore}>\r\n    Load more {children}\r\n  </button>\r\n);\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport \"./Modal.css\";\r\n// const modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      if (e.key === \"Escape\") {\r\n        this.props.onCloseModal(e);\r\n      }\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.props.onCloseModal}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.modalImg} alt=\"\" width=\"600px\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\nimport { PureComponent } from \"react\";\nimport LoaderOn from \"./Components/Loader/Loader\";\nimport imageApi from \"../src/api/imageApi\";\nimport ImageGallery from \"../src/Components/ImageGallery\";\nimport Searchbar from \"./Components/Searchbar\";\nimport Button from \"./Components/Button/Button\";\nimport Modal from \"./Components/Modal\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"./App.css\";\n\nclass App extends PureComponent {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoader: false,\n    error: null,\n    showModal: false,\n    modalImg: \"\",\n  };\n\n  onSetQuery = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n  onSubmit = (e) => {\n    e.preventDefault();\n    const { searchQuery, currentPage } = this.state;\n    this.setState({ isLoader: true });\n    imageApi\n      .fetchArticlesWithQuery(searchQuery, 1)\n      .then((response) => this.setState({ images: response.data.hits }))\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoader: false }));\n  };\n  onLoadMore = () => {\n    const { searchQuery, currentPage } = this.state;\n    this.setState({ isLoader: true });\n    imageApi\n      .fetchArticlesWithQuery(searchQuery, currentPage + 1)\n      .then((response) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...response.data.hits],\n          currentPage: prevState.currentPage + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoader: false });\n        window.scrollTo({\n          top: document.querySelector(\".ImageGallery\").scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n  onOpenModal = (e) => {\n    this.setState({\n      modalImg: e.target.dataset.source,\n      showModal: true,\n    });\n  };\n  onCloseModal = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      this.setState({\n        modalImg: \"\",\n        showModal: false,\n      });\n    }\n  };\n  render() {\n    const { images, searchQuery } = this.state;\n    return (\n      <>\n        <Searchbar\n          onSubmit={this.onSubmit}\n          onSetQuery={this.onSetQuery}\n          searchQuery={searchQuery}\n        />\n        <ImageGallery\n          images={this.state.images}\n          onOpenModal={this.onOpenModal}\n        />\n        {this.state.isLoader && <LoaderOn />}\n        {this.state.images.length !== 0 && (\n          <Button onLoadMore={this.onLoadMore}></Button>\n        )}\n        {this.state.showModal && (\n          <Modal\n            modalImg={this.state.modalImg}\n            onCloseModal={this.onCloseModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}